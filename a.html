<html>
<head>
	<title>Todo</title>
	<script type = "text/javascript">
	var todos = new Array();
	function focusInput()
	{
		var itext = document.getElementById("itext");
		itext.value = ""
		itext.select()
		itext.focus()		
	}
	
     <!--  这里是更新UI之方法 
     // -->
	function updateToDo()
	{
		var list = "<table>"
		for (i=0 ; i<todos.length ;i++) {
		 	list = list + "<tr><td><input type='checkbox' onclick='checkToDo("+i+")'>"+
		 	       (todos[i][0]? "checked>" : "></td>\n")
		    list = list + '<td><div>'+ todos[i][1] + '</div></td></tr>'
		 }; 
		 list = list + "</table>"
		 document.getElementById("list").innerHTML = list;
		 focusInput();
	}
	
	function addToDo()
	{
        var input = document.getElementById("itext");
        if (input=="") return;
        todos[todos.length] = new Array(false,input)
        updateToDo();

   	}

	function addToDoTxt(event)
	{
		var kc = (event.keyCode || event.which);
		var v = document.getElementById("itext").value
		if (kc == 13 && v!= "") 
			{
				addToDo()
			};
	}
	function checkToDo(pos)
	{
		for(i=pos; i<todos.length-1;i++)
		{
			todos[i] = todos[i+1]
		}
		if (todos.length>0) todos.length --
		updateToDo()
	}


    </script>

</head>

	<ul>
 		 <li>输入文字后按登陆按钮
 		 <li>完成后点击复选框
 	</ul>
 	<input id = "itext" type="text" value="" onkeypress = "addToDoTxt(event)"> 
    <input type = "button" value = "登陆" onclick= "addToDoTxt()">
    <div id = "list"></div>
</html>